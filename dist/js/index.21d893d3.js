(function(t){function e(e){for(var a,i,r=e[0],d=e[1],p=e[2],l=0,u=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);c&&c(e);while(u.length)u.shift()();return s.push.apply(s,p||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],a=!0,r=1;r<o.length;r++){var d=o[r];0!==n[d]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},n={index:0},s=[];function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var p=0;p<r.length;p++)e(r[p]);var c=d;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("deb2")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},9359:function(t){t.exports=JSON.parse('[{"@id":"ons://attestation.addon.ont","https://store.dev.ont.io/addon/v1/info":[{"https://store.dev.ont.io/addon/v1/info/i18n":[{"https://store.dev.ont.io/addon/v1/info/i18n#description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"This addon enables attestation for any hash (256), with algorithm of merkle tree, and provides full proof any hash added to the tree. This addon will charge upon live attestation gas fee (ONG) per month."}],"https://store.dev.ont.io/addon/v1/info/i18n#lang":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"en"}],"https://store.dev.ont.io/addon/v1/info/i18n#name":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"Ontology attestation addon"}]}],"https://store.dev.ont.io/addon/v1/info#icon64x64":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"https://node.ont.io/static/img/logo.ba93ed20.png"}]}],"https://store.dev.ont.io/addon/v1/meta":[{"https://store.dev.ont.io/addon/v1/meta/config":[{"https://store.dev.ont.io/addon/v1/migrate_step":[{"ons://attestation.addon.ont/v1/charge_day":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":"!$DAY$!"}],"https://store.dev.ont.io/addon/v1/step/callback":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"https://attestation.ont.io/subscribe/!$Tenant Id$!/!$Execution Id$!"}],"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"Ontology Foundation is about to deploy smart contract for your attestation service. The operating fee will charge every month. Ontology Foundation will notify you every month at \\"Date\\". Thanks for your corperation."}],"https://store.dev.ont.io/addon/v1/step#idx":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":1}]},{"https://store.dev.ont.io/addon/v1/step/callback":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"!#qrsign#!/Axxx/cancel/!$Execution Id$!"}],"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"This will cancel attestation service, and all record will be removed from service and Ontology network. Please confirm."}],"https://store.dev.ont.io/addon/v1/step/param":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"base64({\\"callback\\":\\"https://attestation.ont.io/cancel/!$Tenant Id$!\\"})"}]},{"https://store.dev.ont.io/addon/v1/step/callback":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"!#qrsign#!/Axxx/assign/!$Auth Key$!/!$Execution Id$!"}],"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"This step will ensure customer delegate the on-chain access to \\"Execution Id\\" for attestation. Please scan the qrcode with \\"Auth Key\\" to confirm."}],"https://store.dev.ont.io/addon/v1/step#idx":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":3}]},{"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"The attestation service is started. Please view the service at https://attestation.ont.io."}],"https://store.dev.ont.io/addon/v1/step#idx":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":4}]}],"https://store.dev.ont.io/addon/v1/step":[{"ons://attestation.addon.ont/v1/authkey":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"abc"}],"ons://attestation.addon.ont/v1/execution_id":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"!$RAND_WALLET$!"}],"ons://attestation.addon.ont/v1/tenant_id":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"!$HOSTID$!"}],"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"\\"Auth Key\\" is a pre-defined auth key from end user (app host), which will be verified by attestation service for any actions, \\"Auth Key\\" stands for the customer of attestation service, \\"Tenant Id\\" stands for the attestation service, \\"Execution Id\\" takes the full responsibility to store attestation proof on-chain."}],"https://store.dev.ont.io/addon/v1/step#idx":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":1}]},{"https://store.dev.ont.io/addon/v1/step/callback":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"https://attestation.ont.io/test/subscribe/!$Tenant Id$!/!$Execution Id$!"}],"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"Ontology Foundation is about to deploy smart contract for your attestation service."}],"https://store.dev.ont.io/addon/v1/step#idx":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":2}],"https://store.dev.ont.io/addon/v1/step/rollbackable":[{"@type":"http://www.w3.org/2001/XMLSchema#boolean","@value":true}]},{"https://store.dev.ont.io/addon/v1/step/callback":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"!#qrtestsign#!/Axxx/cancel/!$Execution Id$!"}],"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"This will cancel attestation service, and all record will be removed from service and Ontology network. Please confirm."}],"https://store.dev.ont.io/addon/v1/step/param":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"base64({\\"callback\\":\\"https://attestation.ont.io/test/cancel/!$Tenant Id$!\\"})"}],"https://store.dev.ont.io/addon/v1/step/rollback_of":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":2}]},{"https://store.dev.ont.io/addon/v1/step/description":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"The attestation service is started. Please view the service at https://attestation.ont.io/test."}],"https://store.dev.ont.io/addon/v1/step#idx":[{"@type":"http://www.w3.org/2001/XMLSchema#integer","@value":3}]}]}],"https://store.dev.ont.io/addon/v1/meta#extra":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"https://attestation.ont.io"}],"https://store.dev.ont.io/addon/v1/meta/protocol":[{"https://store.dev.ont.io/addon/v1/meta/protocol#doc":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"ons://attestation.ont.io/protocol/doc"}],"https://store.dev.ont.io/addon/v1/meta/protocol#verifier":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"ons://attestation.ont.io/qa/verify"}]}],"https://store.dev.ont.io/addon/v1/meta/runtime":[{"https://store.dev.ont.io/addon/v1/meta/runtime#callback":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"https://attestation.ont.io/notify/!$HOSTID$!"}],"https://store.dev.ont.io/addon/v1/meta/runtime#cron":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"0 0 !$Date$! * *"}]}],"https://store.dev.ont.io/addon/v1/meta/sdk":[{"https://store.dev.ont.io/addon/v1/meta/sdk#api_doc":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"ons://attestation.ont.io/api"}],"https://store.dev.ont.io/addon/v1/meta/sdk#lang":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"java"}],"https://store.dev.ont.io/addon/v1/meta/sdk#resource":[{"@type":"http://www.w3.org/2001/XMLSchema#anyURI","@value":"ons://attestation.ont.io/sdk/java"}]}],"https://store.dev.ont.io/addon/v1/meta#version":[{"@type":"http://www.w3.org/2001/XMLSchema#string","@value":"0.5.1"}]}]}]')},"9c05":function(t,e,o){},b20f:function(t,e,o){},c960:function(t,e,o){"use strict";var a=o("9c05"),n=o.n(a);n.a},ce7b:function(t){t.exports=JSON.parse('{"@context":{"addon":"https://store.dev.ont.io/addon/v1/","attestation":"ons://attestation.addon.ont/v1/","xsd":"http://www.w3.org/2001/XMLSchema#","info":{"@id":"addon:info","@type":"@id","@context":{"icon32x32":{"@id":"addon:info#icon32x32","@type":"xsd:anyURI"},"icon64x64":{"@id":"addon:info#icon64x64","@type":"xsd:anyURI"},"icon128x128":{"@id":"addon:info#icon128x128","@type":"xsd:anyURI"},"i18n":{"@id":"addon:info/i18n","@type":"@id","@context":{"lang":{"@id":"addon:info/i18n#lang","@type":"xsd:string"},"name":{"@id":"addon:info/i18n#name","@type":"xsd:string"},"description":{"@id":"addon:info/i18n#description","@type":"xsd:string"}}},"extra":{"@id":"addon:info#extra","@type":"xsd:anyURI"}}},"meta":{"@id":"addon:meta","@type":"@id","@context":{"version":{"@id":"addon:meta#version","@type":"xsd:string"},"dependency":{"@id":"addon:meta#dependency","@type":"xsd:string"},"extra":{"@id":"addon:meta#extra","@type":"xsd:anyURI"},"sdk":{"@id":"addon:meta/sdk","@type":"@id","@context":{"lang":{"@id":"addon:meta/sdk#lang","@type":"xsd:string"},"api_doc":{"@id":"addon:meta/sdk#api_doc","@type":"xsd:anyURI"},"resource":{"@id":"addon:meta/sdk#resource","@type":"xsd:anyURI"}}},"protocol":{"@id":"addon:meta/protocol","@type":"@id","@context":{"doc":{"@id":"addon:meta/protocol#doc","@type":"xsd:anyURI"},"verifier":{"@id":"addon:meta/protocol#verifier","@type":"xsd:anyURI"}}}}}},"@id":"ons://attestation.addon.ont","info":{"icon64x64":"https://node.ont.io/static/img/logo.ba93ed20.png","i18n":{"description":"This addon enables attestation for any hash (256), with algorithm of merkle tree, and provides full proof any hash added to the tree. This addon will charge upon live attestation gas fee (ONG) per month.","lang":"en","name":"Ontology attestation addon"}},"meta":{"extra":"https://attestation.ont.io","version":"0.5.0","protocol":{"doc":"ons://attestation.ont.io/protocol/doc","verifier":"ons://attestation.ont.io/qa/verify"},"sdk":{"api_doc":"ons://attestation.ont.io/api","lang":"java","resource":"ons://attestation.ont.io/sdk/java"}}}')},deb2:function(t,e,o){"use strict";o.r(e);var a=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},s=[],i={name:"App"},r=i,d=o("2877"),p=Object(d["a"])(r,n,s,!1,null,null,null),c=p.exports,l=o("8c4f"),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("json-ld-viewer",{attrs:{jsonld:t.jsonld}})],1)},h=[],v={name:"home",data:()=>({jsonld:{"@context":{gr:"http://purl.org/goodrelations/v1#",pto:"http://www.productontology.org/id/",foaf:"http://xmlns.com/foaf/0.1/",xsd:"http://www.w3.org/2001/XMLSchema#","foaf:page":{"@type":"@id"},"gr:acceptedPaymentMethods":{"@type":"@id"},"gr:hasBusinessFunction":{"@type":"@id"},"gr:hasCurrencyValue":{"@type":"xsd:float"},mp:{"@id":"http://ont.io/ddxf#mp","@type":"@id","@context":{owner:{"@id":"http://ont.io/ddxf#owner","@type":"xsd:string"},marketplace:{"@id":"http://ont.io/ddxf#marketplace","@type":"xsd:string"},acl:{"@id":"http://ont.io/ddxf#acl","@type":"xsd:anyURI"},timespan:{"@id":"http://ont.io/ddxf#timespan","@type":"xsd:dateTime"},judgers:{"@id":"http://ont.io/ddxf#judgers","@type":"xsd:array"}}}},"@id":"market://example.org/cars/for-sale/uuid","@type":"gr:Offering","gr:name":"Used Tesla Roadster","gr:description":"Need to sell fast and furiously","gr:hasBusinessFunction":"gr:Sell","gr:acceptedPaymentMethods":"gr:Cash","gr:hasPriceSpecification":{"gr:hasCurrencyValue":"85000","gr:hasCurrency":"USD"},"gr:includes":{"@type":["gr:Individual","pto:Vehicle"],"gr:name":"Tesla Roadster","foaf:page":"http://www.teslamotors.com/roadster"},mp:{owner:"did:ont:xxx",marketplace:"did:ont:xxx",acl:"data://xxx/yyy#acl-0",dataId:"did:ont:xxx",expired:"2021-04-09T20:00:00Z",judgers:["did:ont:xxx","xxx"]}}})},w=v,m=Object(d["a"])(w,u,h,!1,null,null,null),y=(m.exports,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("div",{staticClass:"container"},[o("div",{staticClass:"input-container"},[o("div",{staticClass:"input-owner-data"},[o("p",[t._v("Input owner data:")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.owner_data,expression:"owner_data"}],attrs:{type:"textarea"},domProps:{value:t.owner_data},on:{input:function(e){e.target.composing||(t.owner_data=e.target.value)}}})]),o("div",{staticClass:"input-context-data"},[o("p",[t._v("Input context data:")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.context_data,expression:"context_data"}],attrs:{type:"textarea"},domProps:{value:t.context_data},on:{input:function(e){e.target.composing||(t.context_data=e.target.value)}}})]),o("button",{staticClass:"btn-confirm",on:{click:t.onConfirm}},[t._v("确认")])]),o("json-ld-editor",{attrs:{jsonldContext:t.jsonldData["@context"],jsonldData:t.jsonldData},on:{editorCompact:t.onEditorCompact,editorExpand:t.onEditorExpand}})],1)])}),f=[],g=o("46bd"),x={name:"home",data(){const t=o("ce7b"),e=o("9359");return{jsonldData:{"@context":{}},owner_data:JSON.stringify(e),context_data:JSON.stringify(t)}},async mounted(){},methods:{onEditorCompact(t){alert(JSON.stringify(t))},onEditorExpand(t){alert(JSON.stringify(t))},async onConfirm(){if(!this.owner_data||!this.context_data)return;const t=JSON.parse(this.owner_data),e=JSON.parse(this.context_data);let o=await g["compact"](t,e);console.log(o),this.filterObjectKeys(o,e),this.jsonldData=o},filterObjectKeys(t,e){for(const o of Object.keys(t))e[o]?Array.isArray(t[o])?this.filterArrayKeys(t[o],e[o]):"object"===typeof t[o]&&this.filterObjectKeys(t[o],e[o]):delete t[o]},filterArrayKeys(t,e){}}},b=x,j=(o("c960"),Object(d["a"])(b,y,f,!1,null,"9cff8e70",null)),_=j.exports;a["a"].use(l["a"]);const S=[{path:"/",name:"home",component:_}],O=new l["a"]({mode:"history",base:"/",routes:S});var k=O,M=(o("b20f"),function(){var t,e=this,o=e.$createElement,a=e._self._c||o;return a("button",{staticClass:"saga-button",class:(t={},t["saga-button-"+e.type]=!0,t),attrs:{type:"button"}},[e._t("default")],2)}),L=[];function X(t,e){for(let o=0;o<e.length;o++)if(t===e[o])return!0;return!1}var $={name:"SButton",props:{type:{validator(t){return X(t,["default","primary","info","success","warning","error"])},type:String,default:"default"}}},I=$,C=Object(d["a"])(I,M,L,!1,null,null,null),E=C.exports;E.install=function(t){t.component(E.name,E)};var R=E,T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(Object.keys(t.jsonld).filter((function(t){return"@context"!==t})),(function(e,a){return o("div",{key:a,staticClass:"saga-json-item"},[o("p",{staticClass:"saga-json-item-key"},[t._v(t._s(e))]),Array.isArray(t.jsonld[e])?o("div",{staticClass:"saga-json-item-value saga-json-item-array"},t._l(t.jsonld[e],(function(e,a){return o("div",{key:a},[t._v(" "+t._s(e)+" ")])})),0):"object"===typeof t.jsonld[e]?o("div",{staticClass:"saga-json-item-value"},[o("json-ld-viewer",{attrs:{jsonld:t.jsonld[e]}})],1):o("div",{staticClass:"saga-json-item-value"},[t._v(t._s(t.jsonld[e]))])])})),0)},U=[],D={name:"JsonLdViewer",props:{jsonld:{type:Object,required:!0}}},A=D,P=Object(d["a"])(A,T,U,!1,null,null,null),N=P.exports;N.install=function(t){t.component(N.name,N)};var F=N,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("editor-form",{attrs:{data:t.jsonForm}}),o("div",{staticClass:"footer"},[o("button",{on:{click:t.handleCompact}},[t._v("输出Compacted")]),o("button",{on:{click:t.handleExpand}},[t._v("输出Expanded")])])],1)},q=[],K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("form",t._l(Object.keys(t.data),(function(e,a){return o("div",{key:a,staticClass:"saga-json-item"},[Array.isArray(t.data[e])?o("div",{staticClass:"saga-json-item-value"},[o("label",{attrs:{for:""}},[t._v(t._s(e))]),t._l(t.data[e],(function(a,n){return o("div",{key:n,staticClass:"saga-json-item"},["object"===typeof a?o("editor-form",{attrs:{data:a}}):o("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e][n],expression:"data[key][index]"}],attrs:{type:"text"},domProps:{value:t.data[e][n]},on:{input:function(o){o.target.composing||t.$set(t.data[e],n,o.target.value)}}})],1)}))],2):"object"===typeof t.data[e]?o("div",{staticClass:"saga-json-item-value"},[o("label",[t._v(t._s(e))]),o("editor-form",{attrs:{data:t.data[e]}})],1):o("div",{staticClass:"saga-json-item-value"},[o("label",[t._v(t._s(e))]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e],expression:"data[key]"}],attrs:{type:"text"},domProps:{value:t.data[e]},on:{input:function(o){o.target.composing||t.$set(t.data,e,o.target.value)}}})])])})),0)])},V=[],B={name:"EditorForm",props:{data:{}}},G=B,H=Object(d["a"])(G,K,V,!1,null,null,null),W=H.exports,Y=o("cd3f"),Z={name:"JsonLdEditor",components:{EditorForm:W},props:{jsonldContext:{type:Object,required:!1},jsonldData:{type:Object,required:!1}},data(){const t={};return this.jsonldData&&this.applyData(this.jsonldData,t),{jsonForm:Y(this.jsonldData),context:{}}},watch:{jsonldData(t){const e=Y(t);this.context=e["@context"],delete e["@context"],this.jsonForm=e}},methods:{constructData(t,e){for(const o of Object.keys(t))t[o].indexOf&&t[o].indexOf("http")>-1||(t[o]["@context"]&&(e[o]={},this.constructData(t[o]["@context"],e[o])),t[o]["@type"]?t[o]["@type"].indexOf("anyURI")>-1||t[o]["@type"].indexOf("string")>-1?e[o]="":t[o]["@type"].indexOf("number")>-1&&(e[o]=0):t[o]["@id"]&&(e[o]=""))},applyData(t,e){for(const o of Object.keys(t))"@context"!==o&&(Array.isArray(t[o])?(e[o]=Object.assign({},t[o]),e[o].value="",e[o].placeholder=t[o].value):"object"===typeof t[o]?this.applyData(t[o],e[o]):e[o]=t[o])},async handleCompact(){const t={"@context":{...this.context},...this.jsonForm};this.$emit("editorCompact",t)},async handleExpand(){const t={"@context":{...this.context},...this.jsonForm},e=await g["expand"](t);console.log(e),this.$emit("editorExpand",e)}}},z=Z,Q=Object(d["a"])(z,J,q,!1,null,null,null),tt=Q.exports;tt.install=function(t){t.component(tt.name,tt)};var et=tt;a["a"].use(R),a["a"].use(F),a["a"].use(et),a["a"].config.productionTip=!1,new a["a"]({router:k,render:t=>t(c)}).$mount("#app")}});
//# sourceMappingURL=index.21d893d3.js.map